(()=>{"use strict";const e=window.React,{i18n:{__},hooks:{addFilter:a},components:{Placeholder:t,Card:r,CardHeader:l,CardBody:n,Spinner:o,Button:c,TextControl:d,TextareaControl:i,BaseControl:s,ColorPicker:m,RangeControl:h,DropdownMenu:p,SelectControl:u,ToggleControl:w,ColorIndicator:E,__experimentalHStack:g,__experimentalNumberControl:b,__experimentalBorderBoxControl:k},element:{useState:C},blockEditor:{useSetting:v}}=wp;a("glimfse.admin.tabs.plugins","glimfse/optimization/admin/panel",(function(a){return[...a,{name:"wca-optimization",title:__("Optimization"),render:a=>(0,e.createElement)(f,{...a})}]}));const f=a=>{const{settings:d,saveSettings:s,isRequesting:m,createNotice:h}=a;if(m||!d)return(0,e.createElement)(t,{icon:(0,e.createElement)(o,null),label:__("Loading"),instructions:__("Please wait, loading settings...","glimfse")});const p=(({optimization:e})=>e)(d),[u,E]=C(null),[b,k]=C(p),v=e=>{k({...b,header:{...b.header,...e}})},f=()=>(E(!1),h("success",__("Settings saved.","glimfse")));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"grid",style:{"--wca--columns":2}},(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(r,{className:"border shadow-none"},(0,e.createElement)(l,null,(0,e.createElement)(g,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},__("Header","glimfse")),(0,e.createElement)(w,{label:__("Clean Header?","glimfse"),className:"m-0",checked:!0===b?.header,onChange:e=>k({...b,header:e})}))),(0,e.createElement)(n,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("WP Generator","glimfse"),help:__("Remove WP Generator meta tag.","glimfse"),checked:b?.header?.wpGenerator||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({wpGenerator:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("RSD Link","glimfse"),help:__("Remove Really Simple Discovery service endpoint.","glimfse"),checked:b?.header?.rsdLink||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({rsdLink:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Feed Links","glimfse"),help:__("Remove the feed links.","glimfse"),checked:b?.header?.feedLinks||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({feedLinks:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Shortlink","glimfse"),help:__("Remove the rel=shortlink.","glimfse"),checked:b?.header?.shortLink||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({shortLink:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Rest API","glimfse"),help:__("Remove the REST API link tag.","glimfse"),checked:b?.header?.restApi||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({restApi:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("oEmbed","glimfse"),help:__("Remove oEmbed discovery links.","glimfse"),checked:b?.header?.oEmbed||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({oEmbed:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Emoji","glimfse"),help:__("Remove WP Emojis and fallback to browser`s emoji.","glimfse"),checked:b?.header?.emoji||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({emoji:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Dashicons CSS","glimfse"),help:__("Remove Dashicons CSS in frontend.","glimfse"),checked:b?.header?.dashicons||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({dashicons:e})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Default Scripts","glimfse"),help:__("Move default scripts to footer.","glimfse"),checked:b?.header?.footerScripts||!0===b?.header,disabled:!0===b?.header,onChange:e=>v({footerScripts:e})}))))),(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(r,{className:"border shadow-none position-sticky sticky-top h-100"},(0,e.createElement)(l,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},__("Preloading","glimfse"))),(0,e.createElement)(n,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Instant Page","glimfse"),help:__("Automatically prefetch URLs in the background when a user hovers over a link.","glimfse"),checked:b?.preload?.instantPage,onChange:e=>k({...b,preload:{...b.preload,instantPage:e}})})),(0,e.createElement)("p",null,(0,e.createElement)(w,{label:__("Preload Viewport Media","glimfse"),help:__("Automatically preload resources that are needed right away or very soon during a page load.","glimfse"),checked:b?.preload?.preloadViewport,onChange:e=>k({...b,preload:{...b.preload,preloadViewport:e}})})),(0,e.createElement)("p",null,(0,e.createElement)(i,{label:__("Preconnect","glimfse"),help:__("Preconnect allows the browser to set up early connections before an HTTP request, eliminating round-trip latency and saving time for users. Format: https://example.com|crossorigin","glimfse"),value:b?.preload?.preconnect?.join("\n"),onChange:e=>{const a=e?e.split("\n"):[];k({...b,preload:{...b.preload,preconnect:a}})}})),(0,e.createElement)("p",null,(0,e.createElement)(i,{label:__("DNS Prefetch","glimfse"),help:__("Resolve DNS before a user clicks - one per line. Format: //example.com","glimfse"),value:b?.preload?.dnsPrefetch?.join("\n"),onChange:e=>{const a=e?e.split("\n"):[];k({...b,preload:{...b.preload,dnsPrefetch:a}})}})))))),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(c,{className:"button",isPrimary:!0,isLarge:!0,icon:u&&(0,e.createElement)(o,null),onClick:()=>{E(!0),s({optimization:b},f)},disabled:u},u?"":__("Save","glimfse")))}})();